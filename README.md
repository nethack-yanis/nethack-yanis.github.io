# NetHack YANI Archive

This is a GitHub Pages site that hosts a repository of NetHack design ideas.

* [NetHack main website](https://nethack.org)
* [NetHack github](https://github.com/nethack/nethack)
* [NetHack wiki](https://nethackwiki.com)

## Process for adding new ideas

To add new idea files, simply run new_ideas.sh without arguments. It will
repeatedly generate a blank template for the next available number and open it
in vim. If you accidentally generate an extra blank file after adding the last
idea, make sure to remove it before committing.

The \_data/tagfreq.csv file should be updated whenever new ideas are added. It
is recommended to add a pre-commit hook that automatically invokes
`list-tags.sh --write-csv`.

A standard commit adding new ideas should contain four pieces of information in
its commit message, in this order:
1. The date of the most recently added idea.
2. The number of newly added ideas.
3. A list of newly added authors.
4. A list of newly added tags. (This is good practice because it makes it easy
   to identify tags that are typoed or have a pluralization difference from an
   existing tag, and should be changed).

Newly added authors and tags can be found by using tag_author_generator.sh with
its --print options. At some point this whole process should probably be turned
into a prepare-commit-msg git hook.

## Regarding the filter pages system

The filter pages system is based on the filterpage layout. Filter pages can
filter on either tag or author, and will list ALL ideas for that respective tag
or author.

HTML files in the tags/ folder should have this exact front matter:
    layout: filterpage
    tag: its tag with spaces for any word breaks

Their filename must be the same as the tag but must use underscores in place of
any spaces. Otherwise autogenerated links to them won't work.

HTML files in the authors/ folder work on identical principles.

Jekyll cannot generate these files on its own; they must be provided separately.

## Proper layouts for pages

* default layout: Top level unique pages and other layouts.
* filterpage layout: Tag and author pages.
* singleidea layout: Individual YANI pages.

## Other notes

* Anything including yanitemplate.html must have in-scope a 'yani' variable in
  Liquid.
* Author names and tags can contain spaces, but cannot contain commas. Spaces
  are automatically translated to underscores in filenames and URLs. Most other
  special characters aren't currently supported, except apostrophes.
